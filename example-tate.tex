%#!xelatex
\documentclass[a4paper,twocolumn]{article}
\usepackage[tate]{xelatexja}

\usepackage{bxjalipsum}
\usepackage{bxtexlogo}
\bxtexlogoimport{*}
\usepackage{indentfirst}

\renewcommand{\normalsize}{\fontsize{10pt}{15pt}}
\setlength{\parindent}{10pt}
\setlength{\topskip}{10pt}
\setlength{\parskip}{0pt}
\setlength{\columnsep}{20pt}
\raggedbottom

\ExplSyntaxOn
\int_set:Nn \l_tmpa_int
  { \int_div_truncate:nn { \textheight - \columnsep } { 2 * 10 * 65536 } * 2 }
\int_set:Nn \l_tmpb_int
  { \int_div_truncate:nn { \textwidth - \topskip } { 15 * 65536 } }
\dim_set:Nn \textwidth
  { 10pt * \l_tmpa_int + \columnsep }
\dim_set:Nn \textheight
  { 15pt * \l_tmpb_int + \topskip }
\NewDocumentCommand \tatechuyoko { m }
  {
    \xeja_if_tate_text:TF
      {
        \hbox_to_wd:nn { 1\zw }
          { \hss \xeja_yoko_hbox:n {#1} \hss }
      }
      {#1}
  }
\ExplSyntaxOff
\renewcommand{\thesection}{\tatechuyoko{\arabic{section}}}

\title{\XeLaTeX-ja縦組みサンプル}
\author{森見幸正 (h20y6m)}
\date{令和三年八月十五日}

\begin{document}
\maketitle

\section{数式}

二次方程式$ax^2+bx+c=0$の解は、
\[ x = \frac{-b\pm\sqrt{b^2+4ac}}{2a} \]
で与えられる。

\section{いろは歌}
\jalipsum{iroha}

\section{寿限無}
\jalipsum{jugemu}

\section{吾輩は猫である}
\jalipsum{wagahai}

\section{日本国憲法前文}
\jalipsum{preamble}

\section{初恋}
\jalipsum{hatsukoi}

\section{草枕}
\jalipsum{kusamakura}

\end{document}
